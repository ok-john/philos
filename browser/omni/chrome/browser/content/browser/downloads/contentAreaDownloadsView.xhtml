<?xml version="1.0"?>


<?xml-stylesheet href="chrome://global/skin/global.css"?>
<?xml-stylesheet href="chrome://browser/content/downloads/contentAreaDownloadsView.css"?>
<?xml-stylesheet href="chrome://browser/skin/downloads/contentAreaDownloadsView.css"?>
<?xml-stylesheet href="chrome://browser/content/downloads/downloads.css"?>
<?xml-stylesheet href="chrome://browser/skin/downloads/allDownloadsView.css"?>

<!DOCTYPE window>

<window id="contentAreaDownloadsView"
        data-l10n-id="downloads-window"
        xmlns="http://www.mozilla.org/keymaster/gatekeeper/there.is.only.xul"
        xmlns:html="http://www.w3.org/1999/xhtml"
        csp="default-src chrome:; img-src chrome: moz-icon:; object-src 'none'">

  <linkset>
    <html:link rel="localization" href="toolkit/global/textActions.ftl"/>
    <html:link rel="localization" href="browser/downloads.ftl" />
  </linkset>

  <script src="chrome://global/content/globalOverlay.js"/>
  <script src="chrome://browser/content/downloads/contentAreaDownloadsView.js"/>
  <script src="chrome://browser/content/downloads/allDownloadsView.js"/>
  <script src="chrome://global/content/contentAreaUtils.js"/>
  <script src="chrome://global/content/editMenuOverlay.js"/>


  <!-- These key nodes are here only for show. The real bindings come from
       XBL, in platformHTMLBindings.xml. See bugs 57078 and 71779. -->

  <keyset id="editMenuKeys">
    <key id="key_undo" data-l10n-id="text-action-undo-shortcut" modifiers="accel" command="cmd_undo"/>
    <key id="key_redo"
    data-l10n-id="text-action-undo-shortcut"
    modifiers="accel,shift"
    command="cmd_redo"/>
    <key id="key_cut" data-l10n-id="text-action-cut-shortcut" modifiers="accel" command="cmd_cut"/>
    <key id="key_copy" data-l10n-id="text-action-copy-shortcut" modifiers="accel" command="cmd_copy"/>
    <key id="key_paste" data-l10n-id="text-action-paste-shortcut" modifiers="accel" command="cmd_paste"/>
    <key id="key_delete" keycode="VK_DELETE" command="cmd_delete"/>
    <key id="key_selectAll" data-l10n-id="text-action-select-all-shortcut" modifiers="accel" command="cmd_selectAll"/>
  </keyset>
  <keyset id="editMenuKeysExtra">
    <key id="key_delete2" keycode="VK_BACK" command="cmd_delete"/>
  </keyset>

  <richlistbox flex="1"
               seltype="multiple"
               id="downloadsListBox"
               class="allDownloadsListBox"
               context="downloadsContextMenu"/>
  <description id="downloadsListEmptyDescription"
               data-l10n-id="downloads-list-empty"/>

<script src="chrome://browser/content/downloads/downloadsCommands.js"/>

<commandset id="downloadCommands"
            commandupdater="true"
            events="focus,select,contextmenu">
  <command id="downloadsCmd_pauseResume"/>
  <command id="downloadsCmd_cancel"/>
  <command id="downloadsCmd_unblock"/>
  <command id="downloadsCmd_chooseUnblock"/>
  <command id="downloadsCmd_chooseOpen"/>
  <command id="downloadsCmd_confirmBlock"/>
  <command id="downloadsCmd_open"/>
  <command id="downloadsCmd_open:current"/>
  <command id="downloadsCmd_open:tab"/>
  <command id="downloadsCmd_open:tabshifted"/>
  <command id="downloadsCmd_open:window"/>
  <command id="downloadsCmd_show"/>
  <command id="downloadsCmd_retry"/>
  <command id="downloadsCmd_openReferrer"/>
  <command id="downloadsCmd_clearDownloads"/>
  <command id="downloadsCmd_openInSystemViewer"/>
  <command id="downloadsCmd_alwaysOpenInSystemViewer"/>
  <command id="downloadsCmd_alwaysOpenSimilarFiles"/>
  <command id="downloadsCmd_deleteFile"/>
</commandset>

<menupopup id="downloadsContextMenu" class="download-state">

  <menuitem command="downloadsCmd_pauseResume"
            class="downloadPauseMenuItem"
            data-l10n-id="downloads-cmd-pause"/>
  <menuitem command="downloadsCmd_pauseResume"
            class="downloadResumeMenuItem"
            data-l10n-id="downloads-cmd-resume"/>
  <menuitem command="downloadsCmd_unblock"
            class="downloadUnblockMenuItem"
            data-l10n-id="downloads-cmd-unblock"/>
  <menuitem command="downloadsCmd_openInSystemViewer"
            class="downloadUseSystemDefaultMenuItem"
            data-l10n-id="downloads-cmd-use-system-default"/>
  <menuitem command="downloadsCmd_alwaysOpenInSystemViewer"
            type="checkbox"
            class="downloadAlwaysUseSystemDefaultMenuItem"
            data-l10n-id="downloads-cmd-always-use-system-default"/>
  <menuitem command="downloadsCmd_alwaysOpenSimilarFiles"
            type="checkbox"
            class="downloadAlwaysOpenSimilarFilesMenuItem"
            data-l10n-id="downloads-cmd-always-open-similar-files"/>
  <menuitem command="downloadsCmd_show"
            class="downloadShowMenuItem"
            data-l10n-id="downloads-cmd-show-menuitem-2"/>

  <menuseparator class="downloadCommandsSeparator"/>

  <menuitem command="downloadsCmd_openReferrer"
            class="downloadOpenReferrerMenuItem"
            data-l10n-id="downloads-cmd-go-to-download-page"/>
  <menuitem command="cmd_copy"
            class="downloadCopyLocationMenuItem"
            data-l10n-id="downloads-cmd-copy-download-link"/>

  <menuseparator/>

  <menuitem command="downloadsCmd_deleteFile"
            class="downloadDeleteFileMenuItem"
            data-l10n-id="downloads-cmd-delete-file"/>
  <menuitem command="cmd_delete"
            class="downloadRemoveFromHistoryMenuItem"
            data-l10n-id="downloads-cmd-remove-from-history"/>
  <menuitem command="downloadsCmd_clearDownloads"
            data-l10n-id="downloads-cmd-clear-downloads"/>
</menupopup>
</window>
